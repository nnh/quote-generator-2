<script type="text/javascript">
</script>
<script type="importmap">
  {
    "imports": {
      "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
    }
  }
</script>
<script type="module">
  import { createApp } from 'vue'
  const taxRate = 0.2;
  const defaultFinalAnalysisTables = 50;
  const defaultTitle = '概算見積算定フォーム';
  let outputValues = [1,2,3,4];
  createApp({
    data() {
      return {
        title: defaultTitle,
        taxRate: taxRate,
        test:9999,
        outputValues:{
          finalAnalysisTables:defaultFinalAnalysisTables
        },
        itemsList:[{heading:8888, item:9999, costs:[{testcost:1}, {testcost:2}, {testcost:3}]}]
      }
    },
    created() {
      this.getItems;
    },
    methods: {
      async editOutputTable() {
        const items = await new Promise(resolve => { google.script.run.withSuccessHandler(resolve).getItemsList() });
        this.test6(items);
      }, 
      test6(arg){
        this.itemsList = arg;
        this.title = this.itemsList[10].heading;
      },
      onSubmitApproximateQuote() {
        this.editOutputTable();
      }
    },
    computed: {
    }
  }).mount('#app')
</script>